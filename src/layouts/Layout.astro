---
import '../styles/global.css';

interface Props {
    title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <meta name="format-detection" content="telephone=no" />

        <!-- SEO -->
        <meta
            name="description"
            content="Full stack web developer in Greater London, England"
        />
        <meta
            name="keywords"
            content="vuejs, nuxt, javascript, laravel, development, software"
        />

        <!-- Open Graph -->
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.pridit.co.uk" />
        <meta
            property="og:description"
            content="Full stack web developer in Greater London, England"
        />

        <!-- Favicon -->
        <link rel="canonical" href="https://www.pridit.co.uk" />
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="/apple-touch-icon.png"
        />
        <link rel="icon" type="image/png" href="/favicon-32x32.png" />
        <link rel="icon" type="image/png" href="/favicon-16x16.png" />

        <!-- Manifest -->
        <link rel="manifest" href="/site.webmanifest" />

        <!-- Astro -->
        <meta name="generator" content={Astro.generator} />

        <title>{title}</title>

        <script is:inline>
            function setTheme() {
                if (
                    localStorage.theme === 'dark' ||
                    (!('theme' in localStorage) &&
                        window.matchMedia('(prefers-color-scheme: dark)')
                            .matches)
                ) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            }

            document.addEventListener('astro:page-load', () => {
                setTheme();
            });

            document.addEventListener('astro:after-swap', () => {
                setTheme();
            });

            setTheme();
        </script>
    </head>
    <body class="min-h-screen font-sans leading-normal print:bg-white">
        <slot />
    </body>
    <style is:global>
        :root {
            --background-color: var(--color-gray-100);
            --text-color: var(--color-gray-700);
            color-scheme: light;
        }

        :root.dark {
            --background-color: var(--color-neutral-900);
            --text-color: var(--color-zinc-300);
            color-scheme: dark;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
        }
    </style>
</html>
